<div class="reservation-list-container">
  <h2>Reservaciones</h2>
  <button mat-button (click)="toggleView()">
    {{ showActive ? 'Ver Archivo' : 'Ver Activas' }}
  </button>

  <div *ngIf="showActive">
    <h3>Activas</h3>
    <table mat-table [dataSource]="activeReservations" class="mat-elevation-z8">
      <!-- Nombre de la Sala Column -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre de la Sala </th>
        <td mat-cell *matCellDef="let reservation"> {{ getRoomName(reservation.sala_id) }} </td>
      </ng-container>

      <!-- Fecha de Reserva Column -->
      <ng-container matColumnDef="fecha_reserva">
        <th mat-header-cell *matHeaderCellDef> Fecha de Reserva </th>
        <td mat-cell *matCellDef="let reservation"> {{ formatDate(reservation.fecha_reserva) }} </td>
      </ng-container>

      <!-- Hora Inicio Column -->
      <ng-container matColumnDef="hora_inicio">
        <th mat-header-cell *matHeaderCellDef> Hora Inicio </th>
        <td mat-cell *matCellDef="let reservation"> {{ formatTime(reservation.hora_inicio) }} </td>
      </ng-container>

      <!-- Hora Fin Column -->
      <ng-container matColumnDef="hora_fin">
        <th mat-header-cell *matHeaderCellDef> Hora Fin </th>
        <td mat-cell *matCellDef="let reservation"> {{ formatTime(reservation.hora_fin) }} </td>
      </ng-container>

      <!-- Estado de Reserva Column -->
      <ng-container matColumnDef="estado_reserva">
        <th mat-header-cell *matHeaderCellDef> Estado de Reserva </th>
        <td mat-cell *matCellDef="let reservation"> {{ getReservationStatusName(reservation.estado_reserva_id) }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['nombre', 'fecha_reserva', 'hora_inicio', 'hora_fin', 'estado_reserva']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['nombre', 'fecha_reserva', 'hora_inicio', 'hora_fin', 'estado_reserva']"></tr>
    </table>
  </div>

  <div *ngIf="!showActive">
    <h3>Archivo</h3>
    <table mat-table [dataSource]="archivedReservations" class="mat-elevation-z8">
      <!-- Nombre de la Sala Column -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre de la Sala </th>
        <td mat-cell *matCellDef="let reservation"> {{ getRoomName(reservation.sala_id) }} </td>
      </ng-container>

      <!-- Fecha de Reserva Column -->
      <ng-container matColumnDef="fecha_reserva">
        <th mat-header-cell *matHeaderCellDef> Fecha de Reserva </th>
        <td mat-cell *matCellDef="let reservation"> {{ formatDate(reservation.fecha_reserva) }} </td>
      </ng-container>

      <!-- Estado de Reserva Column -->
      <ng-container matColumnDef="estado_reserva">
        <th mat-header-cell *matHeaderCellDef> Estado de Reserva </th>
        <td mat-cell *matCellDef="let reservation"> {{ getReservationStatusName(reservation.estado_reserva_id) }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['nombre', 'fecha_reserva', 'estado_reserva']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['nombre', 'fecha_reserva', 'estado_reserva']"></tr>
    </table>
  </div>
</div>